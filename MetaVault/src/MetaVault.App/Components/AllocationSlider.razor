@using Microsoft.AspNetCore.Components.Web

<div class="allocation-slider">
    <div class="flex items-center gap-4">
        <input type="range"
               min="0"
               max="100"
               step="1"
               value="@Value"
               @oninput="OnInput"
               class="w-full h-2 rounded-lg appearance-none cursor-pointer bg-gray-200" />
        <span class="w-16 text-right font-mono">@Value%</span>
    </div>
</div>

@code {
    [Parameter]
    public decimal Value { get; set; }

    [Parameter]
    public EventCallback<decimal> OnValueChanged { get; set; }

    private async Task OnInput(ChangeEventArgs e)
    {
        if (decimal.TryParse(e.Value?.ToString(), out decimal newValue))
        {
            Value = newValue;
            await OnValueChanged.InvokeAsync(newValue);
        }
    }
}